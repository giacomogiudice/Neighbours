define("data",{categories:{"Different Race":{pos:0,color:"#e74c3c"},"Heavy Drinkers":{pos:1,color:"#f1c40f"},"Immigrant/Foreign Workers":{pos:2,color:"#27ae60"},"Drug Addicts":{pos:3,color:"#3498db"},Homosexuals:{pos:4,color:"#9b59b6"}},wavelabels:["1990-1994","1995-1999","2000-2004","2005-2009","2010-2014"],countrycodes:{8:{code:"ALB",name:"Albania"},12:{code:"DZA",name:"Algeria"},16:{code:"ASM",name:"American Samoa"},20:{code:"AND",name:"Andorra"},24:{code:"AGO",name:"Angola"},28:{code:"ATG",name:"Antigua"},31:{code:"AZE",name:"Azerbaijan"},32:{code:"ARG",name:"Argentina"},36:{code:"AUS",name:"Australia"},40:{code:"AUT",name:"Austria"},48:{code:"BHR",name:"Bahrain"},50:{code:"BGD",name:"Bangladesh"},51:{code:"ARM",name:"Armenia"},52:{code:"BRB",name:"Barbados"},56:{code:"BEL",name:"Belgium"},60:{code:"BMU",name:"Bermuda"},64:{code:"BTN",name:"Bhutan"},68:{code:"BOL",name:"Bolivia"},70:{code:"BIH",name:"Bosnia"},72:{code:"BWA",name:"Botswana"},76:{code:"BRA",name:"Brazil"},84:{code:"BLZ",name:"Belize"},100:{code:"BGR",name:"Bulgaria"},104:{code:"MMR",name:"Myanmar"},108:{code:"BDI",name:"Burundi"},112:{code:"BLR",name:"Belarus"},116:{code:"KHM",name:"Cambodia"},120:{code:"CMR",name:"Cameroon"},124:{code:"CAN",name:"Canada"},144:{code:"LKA",name:"Sri Lanka"},148:{code:"TCD",name:"Chad"},152:{code:"CHL",name:"Chile"},156:{code:"CHN",name:"China"},158:{code:"TWN",name:"Taiwan"},170:{code:"COL",name:"Colombia"},180:{code:"COD",name:"D.R. Congo"},184:{code:"COK",name:"Cook Islands"},188:{code:"CRI",name:"Costa Rica"},191:{code:"HRV",name:"Croatia"},192:{code:"CUB",name:"Cuba"},196:{code:"CYP",name:"Cyprus (G)"},197:{code:"CYP",name:"Cyprus (T)"},203:{code:"CZE",name:"Czech Rep."},208:{code:"DNK",name:"Denmark"},214:{code:"DOM",name:"Dominican Rep."},218:{code:"ECU",name:"Ecuador"},222:{code:"SLV",name:"El Salvador"},226:{code:"GNQ",name:"Eq.Guinea"},231:{code:"ETH",name:"Ethiopia"},232:{code:"ERI",name:"Eritrea"},233:{code:"EST",name:"Estonia"},246:{code:"FIN",name:"Finland"},250:{code:"FRA",name:"France"},268:{code:"GEO",name:"Georgia"},270:{code:"GMB",name:"Gambia"},275:{code:"PSE",name:"Palestine"},276:{code:"DEU",name:"Germany"},288:{code:"GHA",name:"Ghana"},292:{code:"GIB",name:"Gibraltar"},300:{code:"GRC",name:"Greece"},320:{code:"GTM",name:"Guatemala"},324:{code:"GIN",name:"Guinea"},328:{code:"GUY",name:"Guyana"},332:{code:"HTI",name:"Haiti"},340:{code:"HND",name:"Honduras"},344:{code:"HKG",name:"Hong Kong"},348:{code:"HUN",name:"Hungary"},352:{code:"ISL",name:"Iceland"},356:{code:"IND",name:"India"},360:{code:"IDN",name:"Indonesia"},364:{code:"IRN",name:"Iran"},368:{code:"IRQ",name:"Iraq"},372:{code:"IRL",name:"Ireland"},376:{code:"ISR",name:"Israel"},380:{code:"ITA",name:"Italy"},384:{code:"CIV",name:"CÃ´te d'Ivoire"},388:{code:"JAM",name:"Jamaica"},392:{code:"JPN",name:"Japan"},398:{code:"KAZ",name:"Kazakhstan"},400:{code:"JOR",name:"Jordan"},404:{code:"KEN",name:"Kenya"},408:{code:"PRK",name:"North Korea"},410:{code:"KOR",name:"South Korea"},414:{code:"KWT",name:"Kuwait"},417:{code:"KGZ",name:"Kyrgyzstan"},418:{code:"LAO",name:"Laos"},422:{code:"LBN",name:"Lebanon"},426:{code:"LSO",name:"Lesotho"},428:{code:"LVA",name:"Latvia"},430:{code:"LBR",name:"Liberia"},434:{code:"LBY",name:"Libya"},438:{code:"LIE",name:"Liechtenstein"},440:{code:"LTU",name:"Lithuania"},442:{code:"LUX",name:"Luxembourg"},450:{code:"MDG",name:"Madagascar"},454:{code:"MWI",name:"Malawi"},458:{code:"MYS",name:"Malaysia"},466:{code:"MLI",name:"Mali"},470:{code:"MLT",name:"Malta"},474:{code:"MTQ",name:"Martinique"},478:{code:"MRT",name:"Mauritania"},480:{code:"MUS",name:"Mauritius"},484:{code:"MEX",name:"Mexico"},492:{code:"MCO",name:"Monaco"},496:{code:"MNG",name:"Mongolia"},498:{code:"MDA",name:"Moldova"},504:{code:"MAR",name:"Morocco"},508:{code:"MOZ",name:"Mozambique"},512:{code:"OMN",name:"Oman"},516:{code:"NAM",name:"Namibia"},524:{code:"NPL",name:"Nepal"},528:{code:"NLD",name:"Netherlands"},554:{code:"NZL",name:"New Zealand"},558:{code:"NIC",name:"Nicaragua"},562:{code:"NER",name:"Niger"},566:{code:"NGA",name:"Nigeria"},578:{code:"NOR",name:"Norway"},586:{code:"PAK",name:"Pakistan"},591:{code:"PAN",name:"Panama"},598:{code:"PNG",name:"Papua New Guinea"},600:{code:"PRY",name:"Paraguay"},604:{code:"PER",name:"Peru"},608:{code:"PHL",name:"Philippines"},616:{code:"POL",name:"Poland"},620:{code:"PTR",name:"Portugal"},624:{code:"GNB",name:"Guinea-Bissau"},626:{code:"TLS",name:"Timor-Leste"},630:{code:"PRI",name:"Puerto Rico"},634:{code:"QAT",name:"Qatar"},642:{code:"ROU",name:"Romania"},643:{code:"RUS",name:"Russia"},646:{code:"RWA",name:"Rwanda"},682:{code:"SAU",name:"Saudi Arabia"},686:{code:"SEN",name:"Senegal"},690:{code:"SYC",name:"Seychelles"},694:{code:"SLE",name:"Sierra Leone"},702:{code:"SGP",name:"Singapore"},703:{code:"SVK",name:"Slovakia"},704:{code:"VNM",name:"Viet Nam"},705:{code:"SVN",name:"Slovenia"},706:{code:"SOM",name:"Somalia"},710:{code:"ZAF",name:"South Africa"},716:{code:"ZWE",name:"Zimbabwe"},724:{code:"ESP",name:"Spain"},736:{code:"SDN",name:"Sudan"},740:{code:"SUR",name:"Suriname"},752:{code:"SWE",name:"Sweden"},756:{code:"CHE",name:"Switzerland"},760:{code:"SYR",name:"Syria"},762:{code:"TJK",name:"Tajikistan"},764:{code:"THA",name:"Thailand"},768:{code:"TGO",name:"Togo"},780:{code:"TTO",name:"Trinidad and Tobago"},784:{code:"ARE",name:"United Arab Emirates"},788:{code:"TUN",name:"Tunisia"},792:{code:"TUR",name:"Turkey"},795:{code:"TKM",name:"Turkmenistan"},800:{code:"UGA",name:"Uganda"},804:{code:"UKR",name:"Ukraine"},807:{code:"MKD",name:"Macedonia"},818:{code:"EGY",name:"Egypt"},826:{code:"GBR",name:"Great Britain"},834:{code:"TZA",name:"Tanzania"},840:{code:"USA",name:"United States of America"},850:{code:"VIR",name:"U.S. Virgin Islands"},854:{code:"BFA",name:"Burkina Faso"},858:{code:"URY",name:"Uruguay"},860:{code:"UZB",name:"Uzbekistan"},862:{code:"VEN",name:"Venezuela"},887:{code:"YEM",name:"Yemen"},891:{code:"SRB",name:"Serbia and Montenegro"},894:{code:"ZMB",name:"Zambia"},900:{code:"DEU",name:"West Germany"},901:{code:"DEU",name:"East Germany"},902:{code:"RUS",name:"Tambov"},903:{code:"RUS",name:"Moscow"},904:{code:"ESP",name:"Basque Country"},906:{code:"ESP",name:"Andalusia"},907:{code:"ESP",name:"Galicia"},909:{code:"IRL",name:"North Ireland"},910:{code:"ESP",name:"Valencia"},911:{code:"SRB",name:"Serbia"},912:{code:"MNE",name:"Montenegro"},913:{code:"HRV",name:"Srpska Republic"},914:{code:"BIH",name:"Bosnian Federation"},915:{code:"SRB",name:"Kosovo} "}},colorscheme:{defaultFill:"#bdc3c7",0:"#27ae60",1:"#2ea85d",2:"#36a25a",3:"#3d9c58",4:"#459655",5:"#4d9052",6:"#548a50",7:"#5c854d",8:"#647f4a",9:"#6b7948",10:"#737345",11:"#7b6d42",12:"#826740",13:"#8a613d",14:"#925c3a",15:"#995638",16:"#a15035",17:"#a94a32",18:"#b04430",19:"#b83e2d",20:"#c0392b"},ratios:[{32:[.02694610778,.4530938124,.02095808383,.5,.3892215569],76:[.04601571268,.4124579125,.03815937149,.5836139169,.3019079686],112:[.1674876847,.8167487685,.1704433498,.8226600985,.7901477833],152:[.1066666667,.518,.1193333333,.5486666667,.5746666667],156:[.119,.575,.127,.76,.719],203:[.2954545455,.737012987,.3268398268,.7987012987,.5324675325],356:[.3488,.9068,.366,.926,.914],392:[.1058358061,.5825914936,.1661721068,.9080118694,.6854599407],410:[.5787370104,.1662669864,.5339728217,.0415667466,.0415667466],484:[.1645983018,.5571521881,.1757021555,.692357936,.6022207707],566:[.3116883117,.7222777223,.2627372627,.7652347652,.7642357642],643:[.1070882203,.8164201938,.1177970423,.8602753697,.8052014278],703:[.356223176,.7317596567,.3669527897,.821888412,.6931330472],724:[.117218543,.3986754967,.1092715232,.5291390728,.2635761589],756:[.02357142857,.2285714286,.01571428571,.3164285714,null],792:[.3398058252,.8708737864,.2825242718,.9203883495,.9174757282]},{8:[.07807807808,.8298298298,.625,.8414634146,.6996996997],31:[.1223776224,.8541458541,.4231884058,.9651022864,.9065934066],32:[.04541241891,.4365152919,.908819133,.6081242533,.2734012975],36:[.0478515625,.5971679688,.8977149075,.7834803528,.2465820313],50:[.1731147541,.8950819672,.262295082,.879705401,.8373770492],51:[.192,.8635,.3866855524,.9137026239,.833],100:[.1725746269,.4225746269,.7875318066,.7125984252,.4076492537],112:[.05019120459,.7399617591,.8059259259,.8419922714,.6338432122],152:[.12,.537,.7982758621,.6802773498,.414],156:[.2286666667,.6466666667,.6354916067,.7319461444,.6073333333],158:[.1705128205,.8076923077,.4132231405,.8643292683,.7269230769],170:[.02036048064,.3341121495,null,null,.1488651535],191:[.08361204013,.6362876254,.8430232558,.7559322034,.4548494983],203:[.1046207498,.6669572799,.5426136364,.7372654155,.2397558849],214:[.1846522782,.5467625899,.7213740458,.7366167024,.4868105516],222:[null,.9019138756,null,null,.7830940989],233:[.07541625857,.8648383937,.4156626506,.8578838174,.638589618],246:[.1215805471,.5450861196,.774137931,.8052681091,.2988855117],268:[.09462151394,.6952191235,.7373493976,.8226102941,.7704183267],276:[.02813425469,.4042448174,.8927514793,.6581525542,.1332675222],348:[.1861538462,.7015384615,.5449438202,.7427701674,.5338461538],356:[.3598039216,.5759803922,.5616883117,.6622998544,.6137254902],410:[null,.164131305,.6845901639,.3855421687,null],428:[.045,.855,.4427480916,.8735529831,.5916666667],440:[.1397423191,.8622398414,.3195402299,.8748466258,.7651139742],484:[.260998308,.4162436548,.6906906907,.6045706371,.3697123519],498:[.07723577236,.7835365854,.6209912536,.8617558022,.7743902439],554:[.02997502082,.6586178185,.8631578947,.8166786485,.2231473772],566:[.2034068136,.7870741483,.5189255189,.8904947193,.8952905812],578:[.08163265306,.3176574978,.8738636364,.7251962884,.1428571429],604:[.1156069364,.529314616,.8213256484,.7709219858,.5383980182],608:[.2416666667,.6791666667,.6179775281,.8513274336,.325],616:[.1994796184,.790980052,.4989648033,.7806341045,.6600173461],630:[.06615120275,.5807560137,.7672955975,.7195467422,.323024055],642:[.2970137207,.5811138015,.5610810811,.6305828917,.5577078289],643:[.08333333333,.7985294118,.628440367,.8765853659,.7093137255],703:[.1351598174,.6803652968,.634057971,.7785527463,.4611872146],705:[.1708043694,.7884806356,.5406091371,.7690875233,.6067527309],710:[.1120954003,.6078364566,.6484507042,.757704918,.5049403748],724:[.08340214699,.4029727498,.8903940887,.6650859514,.2024793388],752:[.02973240833,.3716551041,.9309838473,.7726907631,.1119920714],756:[.08738664468,.4744224422,.8403693931,.6380116959,.1856435644],792:[.4067085954,.8898793917,.2013422819,.8803278689,.8972746331],804:[.08644610459,.7709000356,.6472361809,.8770053476,.6517253646],807:[.264321608,.6954773869,.5621521336,.7816683831,.6592964824],826:[null,.6736745887,.7406639004,.4696749151,.2168344007],840:[.06614785992,.6297016861,.7930555556,.8401688782,.2944228275],858:[.068,.587,.8533057851,.6249158249,.319]},{8:[.304,null,.165,.846,.826],12:[.2800312012,null,.2347893916,.7683307332,.8073322933],32:[.0453125,null,.05859375,.3171875,.22109375],50:[.7166666667,null,.6713333333,.01933333333,.04933333333],70:[.1325,null,.2483333333,.815,.6416666667],124:[.03417918177,null,.04194717763,.6416364578,.1693423097],152:[.08916666667,null,.1075,.5266666667,.3275],156:[.146,null,.16,.901,.732],356:[.4175824176,null,.3816183816,.4410589411,.2882117882],360:[.348,null,.404,.597,.548],364:[.2424960506,null,.09636650869,.01224328594,.009083728278],400:[.2001633987,null,.3990188062,.9877350777,.9836467702],410:[.3466666667,null,.4683333333,.9341666667,.8241666667],417:[.184084372,null,.1975071908,.8101629914,.6596356663],484:[.1517915309,null,.1432291667,.6794788274,.4462540717],498:[.1101190476,null,.1884920635,.9067460317,.7738095238],504:[.137490008,null,.1904,.9296,.929656275],566:[.3041543027,null,.2799208704,.7433234421,.7359050445],586:[.065,null,.291,.588,0],604:[.1119253831,null,.1085942705,.6642238508,.4916722185],608:[.2125,null,.1533333333,.8183333333,.2366666667],630:[.04444444444,null,.05555555556,.4680555556,.2194444444],682:[.3768308921,null,.3308921438,.8715046605,null],702:[.04692663582,null,.2592592593,.7250495704,.4567085261],704:[.322,null,.329,.536,.386],710:[.2356666667,null,.306,.6236666667,.4616666667],716:[.1984047856,null,.2045908184,.6387225549,.6656686627],724:[.1149710505,null,.1083540116,.5277088503,.1480562448],752:[.02465483235,null,.02761341223,.6035502959,.06114398422],792:[.3099088503,null,.3694885362,.9450323339,.903263746],800:[.1826347305,null,.129740519,.8662674651,.7614770459],807:[.190521327,null,.1857819905,.7308056872,.5345971564],818:[.3416666667,null,.5766666667,.9923333333,.996],834:[.1665243382,null,.1750640478,.8121263877,.7412467976],840:[.08,null,.1016666667,.7366666667,.2333333333]},{20:[.0259222333,.5343968096,.02392821535,.5692921236,.05583250249],32:[.02295409182,.3642714571,.02794411178,.5508982036,.1636726547],36:[.04503870514,.7431386348,.05625879044,.9239971851,.2118226601],76:[.044,.5,.06733333333,.6806666667,.216],100:[.2007992008,.6503496503,.1758241758,.7982017982,.4975024975],124:[.02218114603,.6243068392,.04242135367,.8091497227,.1431279621],152:[.085,.586,.095,.762,.341],156:[.1260673029,.7222501256,.1722752386,.9291813159,.6961325967],158:[.08068459658,.8647106764,.2412387938,.9657701711,.5533822331],170:[.04297520661,.5123966942,null,.7884297521,.4588429752],196:[.1561904762,.5580952381,.2115009747,.7333333333,.4610136452],231:[.166,.576,.1473333333,.8486666667,.822],246:[.1143984221,.6863905325,.1587771203,.8293885602,.2189349112],250:[.2257742258,.7202797203,.3656343656,.7532467532,.2887112887],268:[.2426666667,.8333333333,.2386666667,.9593333333,.92],276:[.07218992248,.6613372093,.132751938,.6254844961,.1458333333],288:[.2242503259,.7046936115,.258148631,.8005215124,.7900912647],320:[.046,.439,.04,.546,.155],344:[.267571885,.8282747604,.2052715655,.8873801917,.5],348:[.1565304088,.7445328032,.2378109453,.7936191426,.3980099502],356:[.4352823588,.4842578711,.3498250875,.5382308846,.4032983508],360:[.3082669323,.6779324056,.3441396509,.6966683242,.6605276257],364:[.3120780195,.9088863892,.5894934334,.9381327334,.9242026266],380:[.1106719368,.5059288538,.1393280632,.6136363636,.2173913043],400:[.515,.9475,.6625,.965,.9508333333],410:[.3625,.7575,.3833333333,.9833333333,.8683333333],458:[.2058333333,.7266666667,.5666666667,.8733333333,.7058333333],466:[.2203389831,.6518904824,.2451108214,.7633637549,.6616688396],484:[.08269230769,.4974358974,.09743589744,.7737179487,.2980769231],498:[.2370936902,.809751434,.1883365201,.8738049713,.7036328872],504:[.2312186978,.8141666667,.2433110368,.8675,null],528:[.07714285714,.7466666667,.08857142857,.8676190476,.04476190476],554:[.04088050314,.6383647799,.07337526205,.8102725367,.1729559748],578:[.02829268293,.3443902439,.05365853659,.6224390244,.05658536585],604:[.06,.5086666667,.05933333333,.8033333333,.4193333333],616:[.124,.724,.137,.773,.513],642:[.1779279279,.6649774775,.1627252252,.7393018018,.5906531532],643:[.1667486473,.8858829316,.3187407772,.9399901623,.6596163305],646:[.3676177837,.5514266755,.3596549436,.6217650962,.6257465163],704:[.3505016722,.3324414716,.3698996656,.4274247492,.2909698997],705:[.1446480231,.6345226615,.1755062681,.6808100289,.3510125362],710:[.08097027673,.6746987952,.2487188247,.8949129853,.4591732149],724:[.06833333333,.3833333333,.065,.6425,.07416666667],752:[.01395812562,.5363908275,.01794616152,.7726819541,.03589232303],756:[.05398871878,.7373086221,.06929895246,.6478646253,.1079774376],764:[.2745227123,.6636245111,.4345825115,.8983050847,.3372781065],780:[.0249500998,.627744511,.04790419162,.9201596806,.6566866267],792:[.2994056464,.8514115899,.3060921248,.9576523031,.8796433878],804:[.118,.814,.186,.897,.579],826:[.04803073967,.6051873199,.1412103746,.8434197887,.1681075889],840:[.04025764895,.7050765512,.1273166801,.9066022544,.2506043513],854:[.09973924381,.6636245111,.1147327249,.8872229465,.8050847458],858:[.039,.497,.052,.501,.162],891:[.1795081967,.706557377,.2442622951,.8983606557,.6868852459],894:[.2946666667,.6473333333,.2753333333,.8286666667,.7326666667]},{12:[.1975,.7875,.28,.8416666667,.5808333333],31:[.5808383234,.8532934132,.4061876248,.9550898204,.9441117764],32:[.009708737864,.3699029126,.02815533981,.6601941748,.1106796117],36:[.05010155721,.6993906567,.105619499,.9383886256,.1340555179],48:[.3108333333,.1908333333,.31,.425,.1766666667],51:[.3181818182,.9209090909,.1845454545,.9618181818,.9272727273],76:[.01951547779,.3896366083,.02624495289,.802153432,.1117092867],112:[.2312703583,.87752443,.3342019544,.9530944625,.7211726384],152:[.056,.618,.076,.741,.257],156:[.1047826087,.7113043478,.122173913,.9647826087,.5265217391],158:[.08400646204,.8554119548,.2019386107,.9531502423,.4079159935],170:[.03240740741,.5343915344,.04695767196,.7585978836,.3458994709],196:[.248,.641,.3546453546,.646,.349],218:[.3452579035,.4875207987,.3460898502,.540765391,.387687188],233:[.2544031311,.7899543379,.3750815395,.8688845401,.4729288976],275:[.44,.797,.399,.854,.653],276:[.1483839373,.7026894866,.2146365422,.6637298091,.224340176],288:[.1984536082,.6720360825,.2023195876,.7841494845,.7963917526],344:[.188,.693,.211,.759,.335],356:[.4092346616,.5420619861,.5332068311,.531941809,.4206198608],368:[.2766666667,.8641666667,.39,.9191666667,.8033333333],392:[.2226770364,null,.3626688498,null,null],398:[.1117764471,.8601864181,.2776298269,.931424767,.7363515313],400:[.2716666667,.7233333333,.3725,.8033333333,.62],410:[.3416666667,.6958333333,.4416666667,.9708333333,.7983333333],414:[.2808902533,.6937835764,.3722179586,.8442056792,null],417:[.2806666667,.7973333333,.3066666667,.898,.77],422:[.3633333333,.5458333333,.4041666667,.7275,.585],434:[.5513843266,.8268418583,.5903331769,.85734397,.7644298451],458:[.3130769231,.6846153846,.5969230769,.7384615385,.5869230769],484:[.1015,.501,.1155,.6945,.2325],504:[.1375,.7725,.1075,.8291666667,.855],528:[.08201892744,.8459516299,.1961093586,.9232386961,.06887486856],554:[.02853745541,.7288941736,.0594530321,.853745541,.1474435196],566:[.2092097783,.6367254122,.2012507106,.7623649801,.704945992],586:[.1566666667,.6725,.2091666667,.7725,.59],604:[.09256198347,.6826446281,.1066115702,.867768595,.4429752066],608:[.2166666667,.6941666667,.1416666667,.955,.2791666667],616:[.05486542443,.6532091097,.07246376812,.7391304348,.3954451346],634:[.08773584906,.7367924528,.4594339623,.9490566038,.8339622642],642:[.2348636061,.7611443779,.2129075183,.8157019295,.5415834997],643:[.1726214372,.8438751001,.3231756215,.9323458767,.6633266533],646:[.03470857891,.519318926,.05435494434,.9122462344,.884086444],702:[.1263959391,.6189751395,.3581938102,.7945205479,.3165905632],705:[.1094480823,.6248830683,.1356407858,.7174929841,.3545369504],710:[.1920135939,.6001132824,.409232512,.8572642311,.3789294817],716:[.08072048032,.5476984656,.1367578386,.7565043362,.9019346231],724:[.0487804878,.4306139613,.07485281749,.7317073171,.05130361648],752:[.02819237148,.5140961857,.03482587065,.7470978441,.04228855721],764:[.3975,.6275,.5816666667,.7875,.3983333333],780:[.01501501502,.5545545546,.06806806807,.8388388388,.4734734735],788:[.1692946058,.7186721992,.1883817427,.8141078838,.6887966805],792:[.3576323988,.8323987539,.3052959502,.9333333333,.8542056075],804:[.1686666667,.836,.1933333333,.9146666667,.6166666667],840:[.05600358423,.689516129,.1365875504,.8835125448,.2038530466],858:[.016,.513,.017,.6,.096],860:[.14,.8406666667,.1226666667,.9793333333,.65],887:[.34,.863,.242,.925,.687]}]}),define("bubble/updateBubbleView",["d3","data"],function(e,t){return function(){function l(){f.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}var n=e.select("#bubbleview");n.selectAll("*").remove();if(!global.country)return;e.select("#infobox").text(global.country);var r;for(r in t.countrycodes)if(t.countrycodes[r].name===global.country)break;if(!t.ratios[global.wave][r])return;var i=parseInt(n.style("width")),s=parseInt(n.style("height")),o=0,u=[];for(c in t.categories)t.ratios[global.wave][r][o]&&(u.push({value:t.ratios[global.wave][r][o],radius:.2*i*t.ratios[global.wave][r][o],color:t.categories[c].color}),o++);var a=e.layout.force().nodes(u).size([i,s]).charge(function(e){return-6*e.radius}).on("tick",l).start(),f=n.selectAll(".node").data(a.nodes()).attr("class","node").enter().append("g").call(a.drag);f.append("circle").attr("r",function(e){return e.radius}).style("fill",function(e){return e.color}).style("stroke","black").on("mouseover",function(t){return e.select("#bubblelabel").text(Math.round(t.value*100)+"%").classed("ghost",!1)}).on("mousemove",function(){return e.select("#bubblelabel").style("top",event.pageY-20+"px").style("left",event.pageX-100+"px")}).on("mouseout",function(){return e.select("#bubblelabel").classed("ghost",!0)})}}),define("map/drawMap",["require","jquery","d3","topojson","datamaps","bubble/updateBubbleView","data"],function(e,t,n,r,s,o,u){var a=function(e,t){return t===null||!t.value?['<div class="hoverlabel">',e.properties.name,"</div>"].join(""):isNaN(t.value)?['<div class="hoverlabel">',e.properties.name,"</div>"].join(""):['<div class="hoverlabel">',e.properties.name," ",Math.round(t.value*100),"%","</div>"].join("")},f=function(){var e=u.colorscheme;for(i in u.categories)e[i]=u.categories[i].color;return e},l=new s({element:t("#mapcontainer")[0],projection:"mercator",responsive:!1,fills:f(),data:{},geographyConfig:{highlightOnHover:!1,popupTemplate:a}});return n.select(".map").select("g").selectAll("path").style("vector-effect","non-scaling-stroke"),l.svg.call(n.behavior.zoom().on("zoom",function(){l.svg.selectAll("g").attr("transform","translate("+n.event.translate+")scale("+n.event.scale+")")})),l.svg.selectAll(".datamaps-subunit").on("click",function(e){global.country=e.properties.name,o()}),l}),define("map/updateMap",["jquery","data"],function(e,t){return function(){var n={},r,i=global.wave;e.each(t.countrycodes,function(e,t){n[t.code]={fillKey:"defaultFill",value:""}}),global.cat==="Biggest Issue"?(e.each(t.ratios[i],function(e,s){r=parseInt(t.ratios[i][e].indexOf(Math.max.apply(null,t.ratios[i][e]))),n[t.countrycodes[e].code]={fillKey:Object.keys(t.categories)[r],value:""}}),e("#legend").css("visibility","hidden")):(e.each(t.ratios[i],function(e,i){r=i[t.categories[global.cat].pos],r!==null&&(n[t.countrycodes[e].code]={fillKey:Math.round(r*20),value:r})}),e("#legend").css("visibility","visible")),global.map.updateChoropleth(n)}}),define("controller/drawCategories",["jquery","map/updateMap","data"],function(e,t,n){return function(){function s(e){r.animate({top:e.offset().top-e.height(),left:e.offset().left+.5*(r.width()+e.width())},500)}var r=e("#catpointer");e('<div class="swatch"><strong>Categories </strong></div>').appendTo("#buttonbar");for(i in n.categories)e(document.createElement("div")).addClass("swatch").attr("value",i).text(i).css("background-color",n.categories[i].color).click(function(){global.cat=e(this).attr("value"),s(e(this)),t()}).appendTo("#buttonbar");e(document.createElement("div")).addClass("swatch").attr("value",-1).text("Biggest Issue").css("background-color",n.colorscheme.defaultFill).click(function(){global.cat="Biggest Issue",s(e(this)),t()}).appendTo("#buttonbar"),r.hide(),s(e(".swatch[value='"+global.cat+"']")),setTimeout(function(){r.fadeIn(500)},500)}}),define("controller/drawTimeBar",["jquery","d3","map/updateMap","bubble/updateBubbleView","data"],function(e,t,n,r,i){return function(){function s(t){var s=e("#timelabel").width(),o=250;if(t==="left"&&global.wave>=1)global.wave--,e("#timelabel").animate({left:s},o,function(){e("#timelabel").text(i.wavelabels[global.wave]).css("left",-s),e("#timelabel").animate({left:"+="+s},o)});else{if(!(t==="right"&&global.wave<i.wavelabels.length-1)){e("#timelabel").animate({left:t==="left"?s/2:-s/2},o,function(){e("#timelabel").animate({left:0},o)});return}global.wave++,e("#timelabel").animate({left:-s},o,function(){e("#timelabel").text(i.wavelabels[global.wave]).css("left",s),e("#timelabel").animate({left:0},o)})}r(),n()}e('<div class="swatch"><strong>Time Period </strong></div>').appendTo("#timebar");var t=e("#timebar").height();e(document.createElement("img")).addClass("arrow swatch").attr("src","img/arrow-left.svg").height(t).click(function(){s("left")}).appendTo("#timebar"),e('<div id="timedisp" class="swatch"></div>').appendTo("#timebar"),e(document.createElement("div")).css("position","relative").attr("id","timelabel").text(i.wavelabels[global.wave]).appendTo("#timedisp"),e("#timedisp").width(e("#timelabel").width()+2),e(document.createElement("img")).addClass("arrow swatch").attr("src","img/arrow-right.svg").height(t).click(function(){s("right")}).appendTo("#timebar")}}),define("controller/drawController",["jquery","controller/drawCategories","controller/drawTimeBar"],function(e,t,n){return function(){e(document.createElement("div")).attr("id","catpointer").addClass("pointer floater").appendTo("body"),t(),n()}}),define("map/drawLegend",["jquery","data"],function(e,t){return function(){e('<div class="swatch"><strong>Legend </strong></div>').appendTo("#legend"),e.each(t.colorscheme,function(t,n){t==="defaultFill"&&e('<div class="swatch">No Data</div>').appendTo("#legend").css("background-color",n),isNaN(t)||e('<div class="swatch">'+Math.round(t/20*100)+"%</div>").appendTo("#legend").css("background-color",n)})}}),define("bubble/drawBubbleView",["d3"],function(e){return function(){var t=e.select("#infobox").attr("value","Select a country: bubbles show the percentages for each category.");t.text(t.attr("value"));var n=e.select("#bubbleview");n.style("height",parseInt(e.select("#mapcontainer").style("height"))-parseInt(t.style("height"))),n.style("width",e.select("#bubblecontainer").style("width")),n.style("background-color","#ffffff"),e.select("#bubblecontainer").append("div").attr("id","bubblelabel").attr("class","hoverlabel floater ghost")}}),define("init",["jquery","map/drawMap","controller/drawController","map/drawLegend","map/updateMap","bubble/drawBubbleView"],function(e,t,n,r,i,s){e(function(){e(".wrapper").width(e(window).width()-100),e("#mapcontainer").height(e(window).height()-200),global.map=t,n(),s(),r(),i()})}),require.config({paths:{jquery:"https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min",d3:"http://d3js.org/d3.v3.min",topojson:"http://d3js.org/topojson.v1.min",datamaps:"lib/datamaps.world.min"},shim:{d3:{exports:"d3"},topojson:{deps:["d3"],exports:"topojson"},datamaps:{deps:["d3","topojson"]}}}),requirejs(["init"]),define("main",function(){});